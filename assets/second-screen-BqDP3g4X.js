import{r as t,M as J,j as r,i as X,u as H,P as Q,a as Z,b as ee,L as te,c as ne,d as K,e as O,W as se,B as L,m as oe,T as I,f as re}from"./index-BW2OAefr.js";function P(e,o){if(typeof e=="function")return e(o);e!=null&&(e.current=o)}function ie(...e){return o=>{let s=!1;const c=e.map(l=>{const n=P(l,o);return!s&&typeof n=="function"&&(s=!0),n});if(s)return()=>{for(let l=0;l<c.length;l++){const n=c[l];typeof n=="function"?n():P(e[l],null)}}}}function ce(...e){return t.useCallback(ie(...e),e)}class le extends t.Component{getSnapshotBeforeUpdate(o){const s=this.props.childRef.current;if(s&&o.isPresent&&!this.props.isPresent){const c=s.offsetParent,l=X(c)&&c.offsetWidth||0,n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft,n.right=l-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ae({children:e,isPresent:o,anchorX:s,root:c}){const l=t.useId(),n=t.useRef(null),a=t.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=t.useContext(J),f=ce(n,e?.ref);return t.useInsertionEffect(()=>{const{width:i,height:u,top:d,left:v,right:g}=a.current;if(o||!n.current||!i||!u)return;const p=s==="left"?`left: ${v}`:`right: ${g}`;n.current.dataset.motionPopId=l;const x=document.createElement("style");h&&(x.nonce=h);const E=c??document.head;return E.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${d}px !important;
          }
        `),()=>{E.contains(x)&&E.removeChild(x)}},[o]),r.jsx(le,{isPresent:o,childRef:n,sizeRef:a,children:t.cloneElement(e,{ref:f})})}const ue=({children:e,initial:o,isPresent:s,onExitComplete:c,custom:l,presenceAffectsLayout:n,mode:a,anchorX:h,root:f})=>{const i=H(de),u=t.useId();let d=!0,v=t.useMemo(()=>(d=!1,{id:u,initial:o,isPresent:s,custom:l,onExitComplete:g=>{i.set(g,!0);for(const p of i.values())if(!p)return;c&&c()},register:g=>(i.set(g,!1),()=>i.delete(g))}),[s,i,c]);return n&&d&&(v={...v}),t.useMemo(()=>{i.forEach((g,p)=>i.set(p,!1))},[s]),t.useEffect(()=>{!s&&!i.size&&c&&c()},[s]),a==="popLayout"&&(e=r.jsx(ae,{isPresent:s,anchorX:h,root:f,children:e})),r.jsx(Q.Provider,{value:v,children:e})};function de(){return new Map}const T=e=>e.key||"";function q(e){const o=[];return t.Children.forEach(e,s=>{t.isValidElement(s)&&o.push(s)}),o}const fe=({children:e,custom:o,initial:s=!0,onExitComplete:c,presenceAffectsLayout:l=!0,mode:n="sync",propagate:a=!1,anchorX:h="left",root:f})=>{const[i,u]=Z(a),d=t.useMemo(()=>q(e),[e]),v=a&&!i?[]:d.map(T),g=t.useRef(!0),p=t.useRef(d),x=H(()=>new Map),[E,m]=t.useState(d),[_,b]=t.useState(d);ee(()=>{g.current=!1,p.current=d;for(let j=0;j<_.length;j++){const S=T(_[j]);v.includes(S)?x.delete(S):x.get(S)!==!0&&x.set(S,!1)}},[_,v.length,v.join("-")]);const y=[];if(d!==E){let j=[...d];for(let S=0;S<_.length;S++){const w=_[S],B=T(w);v.includes(B)||(j.splice(S,0,w),y.push(w))}return n==="wait"&&y.length&&(j=y),b(q(j)),m(d),null}const{forceRender:R}=t.useContext(te);return r.jsx(r.Fragment,{children:_.map(j=>{const S=T(j),w=a&&!i?!1:d===_||v.includes(S),B=()=>{if(x.has(S))x.set(S,!0);else return;let $=!0;x.forEach(Y=>{Y||($=!1)}),$&&(R?.(),b(p.current),a&&u?.(),c&&c())};return r.jsx(ue,{isPresent:w,initial:!g.current||s?void 0:!1,custom:o,presenceAffectsLayout:l,mode:n,root:f,onExitComplete:w?void 0:B,anchorX:h,children:j},S)})})},U=e=>{const o=e?.getBoundingClientRect();return{left:o?.left||0,right:o?.right||0,width:o?.width||0}},me=(e,o,s)=>{if(o===0||e.length===0)return e;const c=o+s*2,l=structuredClone(e),n=[...l];for(;n.length*s<c;)n.push(...l);return n},he=e=>Array.from({length:e},()=>0),pe=(e,o,s,c)=>(l,n)=>l.map((a,h)=>{const f=e[h];if(!f)return a;const i=U(f);let u=a+n;return n<0&&i.right<o.left?u+=s*(i.width+c):n>0&&i.left>o.right&&(u-=s*(i.width+c)),u}),A=(e,o)=>{e.forEach((s,c)=>{if(s){const l=o[c];s.style.transform=`translate3d(${l}px, 0, 0)`}})},xe=.95,ge=.5,_e=2,ve=25,Ee=({setCircularAnimationPaused:e,translateX:o,slides:s,containerRef:c,updatePositions:l})=>{const n=t.useRef(0),a=t.useRef(!1),h=t.useRef(performance.now()),f=t.useRef(0),i=t.useRef(null),u=t.useRef(!1),d=t.useCallback(()=>{i.current&&cancelAnimationFrame(i.current),i.current=null,u.current=!1,a.current=!1,f.current=0,n.current=0,e(!1)},[e]);t.useEffect(()=>()=>{d()},[d]);const v=t.useCallback(m=>{const _="touches"in m;if(_&&m.touches.length!==1)return;const b=_?m.touches[0].clientX:m.clientX;d(),e(!0),a.current=!0,h.current=performance.now(),n.current=b,f.current=0},[e,d]),g=t.useCallback(()=>{a.current=!1;let m=f.current;const _=()=>{Math.abs(m)>ge?(m*=xe,o.current=l(o.current,m),A(s,o.current),i.current=requestAnimationFrame(_)):d()};Math.abs(m)>_e?(u.current=!0,_()):d()},[l,d,s,o]),p=t.useCallback(m=>{if(!a.current)return;m.cancelable&&m.preventDefault();const _=m instanceof TouchEvent;if(_&&m.touches.length!==1)return;const b=_?m.touches[0].clientX:m.clientX,y=b-n.current;n.current=b,o.current=l(o.current,y),A(s,o.current);const R=performance.now(),j=R-h.current;f.current=y/j*ve,h.current=R},[o,s,l]);t.useEffect(()=>{const m=c?.current;if(!m)return;m.addEventListener("touchmove",p,{passive:!1}),m.addEventListener("mousemove",p,{passive:!1});const _=()=>{a.current&&g()};return document.addEventListener("touchend",_),document.addEventListener("mouseup",_),()=>{m.removeEventListener("touchmove",p),m.removeEventListener("mousemove",p),document.removeEventListener("touchend",_),document.removeEventListener("mouseup",_)}},[c,p,g]);const x=t.useCallback(()=>{e(!0)},[e]),E=t.useCallback(()=>{e(!1)},[e]);return{domActions:{onTouchStart:v,onMouseDown:v,onTouchEnd:g,onMouseUp:g,onMouseEnter:x,onMouseLeave:E},stopAnimation:d}},Ce=({speed:e,side:o,slides:s,translateX:c,updatePositions:l,containerRef:n})=>{const[a,h]=t.useState(!1),f=ne(n,{threshold:0});return t.useEffect(()=>{h(!f)},[f]),t.useEffect(()=>{let i=null;const u=()=>{if(a||!e){i&&(cancelAnimationFrame(i),i=null);return}const d=o==="left"?-e:e;c.current=l(c.current,d),A(s,c.current),i=requestAnimationFrame(u)};return!a&&e&&(i=requestAnimationFrame(u)),()=>{i&&cancelAnimationFrame(i)}},[a,o,e,c,s,l]),{setCircularAnimationPaused:h}},V=e=>{const[o,s]=t.useState({left:0,right:0,width:0});return t.useEffect(()=>{const c=e.current;if(!c)return;const l=()=>{s({...U(c)})};l();const n=new ResizeObserver(l);return n.observe(c),()=>{n.disconnect()}},[e]),o},Se="_container_1xiqd_14",ye="_slidesContainer_1xiqd_25",G={container:Se,slidesContainer:ye},je=({speed:e,side:o="left",slides:s,slideWidth:c,renderSlide:l})=>{const n=t.useRef(null),a=t.useRef(null),h=t.useRef([]),f=t.useRef([]),{screenWidth:i}=K(),u=V(n),d=V(a),v=t.useMemo(()=>{const y=u.width||600;return me(s,y,c)},[u.width,s,c]),g=v.length,p=(d.width-g*c)/(g-1),x=t.useMemo(()=>pe(h.current,u,g,p),[u,g,p]),{setCircularAnimationPaused:E}=Ce({speed:e,side:o,slides:h.current,translateX:f,updatePositions:x,containerRef:n}),{domActions:m,stopAnimation:_}=Ee({setCircularAnimationPaused:E,translateX:f,slides:h.current,containerRef:n,updatePositions:x});t.useEffect(()=>{(()=>{_(),f.current=he(g),A(h.current,f.current)})()},[i,g,_,e,o]);const b=t.useCallback(y=>R=>{h.current[y]=R},[]);return r.jsx("div",{ref:n,className:G.container,...m,children:r.jsx("div",{ref:a,className:G.slidesContainer,children:v.map((y,R)=>l(y,R,b(R)))})})},be=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:256,height:256,...e},t.createElement("defs",null,t.createElement("style",null,`
      .react-stroke { stroke: currentColor; stroke-width: 16; fill: none; }
      .react-fill { fill: currentColor; }
    `)),t.createElement("circle",{cx:128,cy:128,r:20,className:"react-fill"}),t.createElement("ellipse",{className:"react-stroke",cx:128,cy:128,rx:100,ry:40}),t.createElement("g",{transform:"rotate(60 128 128)"},t.createElement("ellipse",{className:"react-stroke",cx:128,cy:128,rx:100,ry:40})),t.createElement("g",{transform:"rotate(-60 128 128)"},t.createElement("ellipse",{className:"react-stroke",cx:128,cy:128,rx:100,ry:40}))),Re=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:256,height:256,...e},t.createElement("defs",null,t.createElement("style",null,`
      .ts-fill { fill: currentColor; }
      .ts-text { fill: #FFFFFF; font-family: Arial, sans-serif; font-weight: bold; font-size: 120px; }
    `)),t.createElement("rect",{className:"ts-fill",x:0,y:0,width:256,height:256,rx:20}),t.createElement("text",{className:"ts-text",x:128,y:180,textAnchor:"middle",dominantBaseline:"central"},"TS")),we=e=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:256,height:256,...e},t.createElement("defs",null,t.createElement("style",null,`
      .node-fill { fill: currentColor; }
      .node-text { fill: #FFFFFF; font-family: Arial, sans-serif; font-weight: bold; font-size: 80px; }
    `)),t.createElement("circle",{className:"node-fill",cx:128,cy:128,r:100}),t.createElement("text",{className:"node-text",x:128,y:160,textAnchor:"middle",dominantBaseline:"central"},"node")),Ie="_root_zv3ci_14",Ne="_content_zv3ci_23",Le="_icon_zv3ci_71",Te="_text_zv3ci_76",k={root:Ie,content:Ne,icon:Le,text:Te},ke={reactlogo:be,typescript:Re,nodejs:we},W=t.forwardRef(({query:e,image:o,width:s=20,height:c=20,...l},n)=>{const a=ke[o];return a?r.jsx("div",{ref:n,className:k.root,children:r.jsxs("div",{"aria-label":e,className:O(k.content,"surface-transparent"),children:[r.jsx(a,{...l,width:s,height:c,viewBox:"0 0 256 256",className:k.icon}),r.jsx("div",{className:k.text,children:e})]})}):null});W.displayName="SlideContent";const ze=t.memo(W),Fe="_label_2c990_14",Me="_input_2c990_23",Ae="_inputText_2c990_29",Be="_inputRange_2c990_44",z={label:Fe,input:Me,inputText:Ae,inputRange:Be},De=({label:e,id:o,valueDisplay:s,showValue:c=!0,className:l,labelClassName:n,inputClassName:a,type:h="text",...f})=>{const i=o||`input-${e.toLowerCase().replace(/\s+/g,"-")}`,u=s!==void 0?s:f.value?.toString(),d=h==="range"?z.inputRange:z.inputText;return r.jsxs("div",{className:l,children:[r.jsxs("label",{htmlFor:i,className:O(z.label,n),children:[e,c&&u&&`: ${u}`]}),r.jsx("input",{id:i,type:h,...f,className:O(z.input,d,a)})]})},Oe="_root_zlkjm_14",$e="_button_zlkjm_19",Pe="_panel_zlkjm_26",qe="_title_zlkjm_58",Ve="_section_zlkjm_62",Ge="_label_zlkjm_70",He="_directionGroup_zlkjm_80",Ke="_directionButton_zlkjm_87",Ue="_slidesContainer_zlkjm_91",We="_slide_zlkjm_91",Ye="_slideIndex_zlkjm_112",Je="_input_zlkjm_116",Xe="_select_zlkjm_117",Qe="_applyButton_zlkjm_141",C={root:Oe,button:$e,panel:Pe,title:qe,section:Ve,label:Ge,directionGroup:He,directionButton:Ke,slidesContainer:Ue,slide:We,slideIndex:Ye,input:Je,select:Xe,applyButton:Qe},D={MIN:.1,MAX:3,STEP:.1},Ze=({onUpdate:e,initialSlides:o,initialSpeed:s,initialSide:c})=>{const[l,n]=t.useState(!1),[a,h]=t.useState(s),[f,i]=t.useState(c),[u,d]=t.useState(o);t.useEffect(()=>{const p=document.getElementById("js-animations");if(!p)return;const x=new IntersectionObserver(([E])=>{E.isIntersecting||n(!1)},{threshold:.01});return x.observe(p),()=>{x.unobserve(p)}},[]);const v=(p,x,E)=>{const m=[...u];m[p]={...m[p],[x]:E},d(m)},g=()=>{e({slides:u,speed:a,side:f}),n(!1)};return r.jsxs(r.Fragment,{children:[r.jsx(se,{children:r.jsx("div",{className:C.root,children:r.jsx(L,{variant:"magic",onClick:()=>n(!l),className:C.button,"aria-expanded":l,"aria-controls":"slider-configuration-panel",children:l?"✕ Close":"⚙️ Configure Slider"})})}),r.jsx(fe,{children:l&&r.jsxs(oe.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:C.panel,role:"dialog","aria-modal":"false","aria-labelledby":"slider-configuration-title",id:"slider-configuration-panel",children:[r.jsx(I,{variant:"h3",size:"lg",weight:"bold",color:"primary",className:C.title,id:"slider-configuration-title",children:"Slider Configuration"}),r.jsxs("div",{className:C.section,children:[r.jsx(De,{label:"Speed",type:"range",min:D.MIN,max:D.MAX,step:D.STEP,value:a,valueDisplay:a.toFixed(1),onChange:p=>h(Number(p.target.value))}),r.jsxs("div",{children:[r.jsx(I,{variant:"label",className:C.label,color:"muted",children:"Direction"}),r.jsxs("div",{className:C.directionGroup,children:[r.jsx(L,{variant:"toggle",isActive:f==="left",onClick:()=>i("left"),className:C.directionButton,children:"← Left"}),r.jsx(L,{variant:"toggle",isActive:f==="right",onClick:()=>i("right"),className:C.directionButton,children:"Right →"})]})]}),r.jsxs("div",{children:[r.jsx(I,{variant:"label",className:C.label,color:"muted",children:"Slide Content"}),r.jsx("div",{className:C.slidesContainer,children:u.map((p,x)=>r.jsxs("div",{className:C.slide,children:[r.jsxs(I,{variant:"caption",className:C.slideIndex,children:["Slide ",x+1]}),r.jsx("input",{type:"text",value:p.query,onChange:E=>v(x,"query",E.target.value),placeholder:"Slide text",className:C.input}),r.jsxs("select",{value:p.image,onChange:E=>v(x,"image",E.target.value),className:C.select,children:[r.jsx("option",{value:"reactlogo",children:"React Logo"}),r.jsx("option",{value:"typescript",children:"TypeScript Logo"}),r.jsx("option",{value:"nodejs",children:"Node.js Logo"})]})]},x))})]}),r.jsx(L,{onClick:g,variant:"primary",className:C.applyButton,children:"Apply Changes"})]})]})})]})},et=[{query:"Spin it up",image:"reactlogo"},{query:"Type it safe",image:"typescript"},{query:"Run it fast",image:"nodejs"}],F={MOBILE:200,DESKTOP:200},tt="_root_1rdqu_14",nt="_content_1rdqu_24",st="_header_1rdqu_33",ot="_title_1rdqu_39",rt="_subtitle_1rdqu_43",it="_sliderContainer_1rdqu_48",N={root:tt,content:nt,header:st,title:ot,subtitle:rt,sliderContainer:it},ct=6,lt=["#06B6D4","#3B82F6","#A855F7","#6366F1","#7DD3FC","#8B5CF6"],at=Array.from({length:ct},(e,o)=>o),ut=lt.map(e=>({"--slider-color":e})),M={slides:et,speed:.6,side:"left"},dt=({id:e})=>r.jsxs("div",{className:N.header,children:[r.jsx(I,{id:e,variant:"h2",size:"3xl",weight:"bold",className:N.title,children:"Reusable components with JS animations"}),r.jsx(I,{variant:"body",className:N.subtitle,color:"muted",children:"Configure your own slider"})]}),mt=()=>{const{screenWidth:e}=K(),o=e>re.MOBILE?F.DESKTOP:F.MOBILE,s=t.useRef(null),[c,l]=t.useState(!1);t.useEffect(()=>{if(!s.current)return;const i=new IntersectionObserver(([u])=>{l(u.isIntersecting&&u.intersectionRatio>.1)},{threshold:[0,.1,.5,1],rootMargin:"0px"});return i.observe(s.current),()=>{i.disconnect()}},[]);const[n,a]=t.useState(M),h="js-animations-heading",f=t.useCallback((i,u,d)=>r.jsx(ze,{ref:d,...i},u),[]);return r.jsx("section",{ref:s,className:N.root,"aria-labelledby":h,children:r.jsxs("div",{className:N.content,children:[r.jsx(dt,{id:h}),r.jsx(Ze,{onUpdate:a,initialSlides:M.slides,initialSpeed:M.speed,initialSide:M.side}),at.map(i=>r.jsx("div",{className:N.sliderContainer,style:{...ut[i],"--slide-width-mobile":`${F.MOBILE}px`,"--slide-width-desktop":`${F.DESKTOP}px`},children:r.jsx(je,{slides:n.slides,speed:c?n.speed:0,side:n.side,slideWidth:o,renderSlide:f})},i))]})})};export{mt as SecondScreen};
