import{r as e,M as Y,j as o,i as J,u as H,P as Q,a as X,b as Z,L as ee,c as W,d as k,W as te,B as L,m as ne}from"./index-BcFghhug.js";function $(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function se(...t){return s=>{let n=!1;const i=t.map(c=>{const r=$(c,s);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let c=0;c<i.length;c++){const r=i[c];typeof r=="function"?r():$(t[c],null)}}}}function re(...t){return e.useCallback(se(...t),t)}class oe extends e.Component{getSnapshotBeforeUpdate(s){const n=this.props.childRef.current;if(n&&s.isPresent&&!this.props.isPresent){const i=n.offsetParent,c=J(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=c-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ie({children:t,isPresent:s,anchorX:n,root:i}){const c=e.useId(),r=e.useRef(null),d=e.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=e.useContext(Y),h=re(r,t?.ref);return e.useInsertionEffect(()=>{const{width:u,height:a,top:p,left:g,right:v}=d.current;if(s||!r.current||!u||!a)return;const x=n==="left"?`left: ${g}`:`right: ${v}`;r.current.dataset.motionPopId=c;const m=document.createElement("style");l&&(m.nonce=l);const y=i??document.head;return y.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${a}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{y.contains(m)&&y.removeChild(m)}},[s]),o.jsx(oe,{isPresent:s,childRef:r,sizeRef:d,children:e.cloneElement(t,{ref:h})})}const ce=({children:t,initial:s,isPresent:n,onExitComplete:i,custom:c,presenceAffectsLayout:r,mode:d,anchorX:l,root:h})=>{const u=H(le),a=e.useId();let p=!0,g=e.useMemo(()=>(p=!1,{id:a,initial:s,isPresent:n,custom:c,onExitComplete:v=>{u.set(v,!0);for(const x of u.values())if(!x)return;i&&i()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[n,u,i]);return r&&p&&(g={...g}),e.useMemo(()=>{u.forEach((v,x)=>u.set(x,!1))},[n]),e.useEffect(()=>{!n&&!u.size&&i&&i()},[n]),d==="popLayout"&&(t=o.jsx(ie,{isPresent:n,anchorX:l,root:h,children:t})),o.jsx(Q.Provider,{value:g,children:t})};function le(){return new Map}const I=t=>t.key||"";function O(t){const s=[];return e.Children.forEach(t,n=>{e.isValidElement(n)&&s.push(n)}),s}const ae=({children:t,custom:s,initial:n=!0,onExitComplete:i,presenceAffectsLayout:c=!0,mode:r="sync",propagate:d=!1,anchorX:l="left",root:h})=>{const[u,a]=X(d),p=e.useMemo(()=>O(t),[t]),g=d&&!u?[]:p.map(I),v=e.useRef(!0),x=e.useRef(p),m=H(()=>new Map),[y,w]=e.useState(p),[f,_]=e.useState(p);Z(()=>{v.current=!1,x.current=p;for(let S=0;S<f.length;S++){const C=I(f[S]);g.includes(C)?m.delete(C):m.get(C)!==!0&&m.set(C,!1)}},[f,g.length,g.join("-")]);const b=[];if(p!==y){let S=[...p];for(let C=0;C<f.length;C++){const R=f[C],B=I(R);g.includes(B)||(S.splice(C,0,R),b.push(R))}return r==="wait"&&b.length&&(S=b),_(O(S)),w(p),null}const{forceRender:j}=e.useContext(ee);return o.jsx(o.Fragment,{children:f.map(S=>{const C=I(S),R=d&&!u?!1:p===f||g.includes(C),B=()=>{if(m.has(C))m.set(C,!0);else return;let A=!0;m.forEach(K=>{K||(A=!1)}),A&&(j?.(),_(x.current),d&&a?.(),i&&i())};return o.jsx(ce,{isPresent:R,initial:!v.current||n?void 0:!1,custom:s,presenceAffectsLayout:c,mode:r,root:h,onExitComplete:R?void 0:B,anchorX:l,children:S},C)})})},ue=(t,s,n)=>{if(s===0||t.length===0)return t;const i=s+n*2,c=structuredClone(t),r=[...c];for(;r.length*n<i;)r.push(...c);return r},de=t=>Array.from({length:t},()=>0),fe=(t,s,n,i)=>(c,r)=>c.map((d,l)=>{const h=t[l];if(!h)return d;const u=U(h);let a=d+r;return r<0&&u.right<s.left?a+=n*(u.width+i):r>0&&u.left>s.right&&(a-=n*(u.width+i)),a}),U=t=>{const s=t?.getBoundingClientRect();return{left:s?.left||0,right:s?.right||0,width:s?.width||0}},M=(t,s)=>{t.forEach((n,i)=>{n&&(n.style.transform=`translate3d(${s[i]}px, 0, 0)`)})},D={Visibilitychange:"visibilitychange"},me=.95,he=.5,pe=2,ge=25,xe=({setCircularAnimationPaused:t,translateX:s,slides:n,containerRef:i,updatePositions:c})=>{const r=e.useRef(0),d=e.useRef(0),l=e.useRef(!1),h=e.useRef(performance.now()),u=e.useRef(0),a=e.useRef(null),p=e.useRef(!1),g=e.useCallback(()=>{a.current&&cancelAnimationFrame(a.current),a.current=null,p.current=!1,l.current=!1,u.current=0,r.current=0,d.current=0,t(!1)},[t]);e.useEffect(()=>()=>{g()},[g]);const v=e.useCallback(f=>{const _="touches"in f;if(_&&f.touches.length!==1)return;const b=_?f.touches[0].clientX:f.clientX;g(),t(!0),l.current=!0,h.current=performance.now(),d.current=b,u.current=0},[t,g]),x=e.useCallback(()=>{l.current=!1;let f=u.current;r.current=0;function _(){Math.abs(f)>he?(f*=me,s.current=c(s.current,f),M(n,s.current),a.current=requestAnimationFrame(_)):g()}Math.abs(f)>pe?(p.current=!0,_()):g()},[c,g,n,s]),m=e.useCallback(f=>{if(!l.current)return;f.cancelable&&f.preventDefault();const _=f instanceof TouchEvent;if(_&&f.touches.length!==1)return;const b=_?f.touches[0].clientX:f.clientX,j=b-d.current;d.current=b,s.current=c(s.current,j),M(n,s.current);const S=performance.now(),C=S-h.current;u.current=j/C*ge,h.current=S},[s,n,c]);e.useEffect(()=>{const f=i?.current;if(!f)return;f.addEventListener("touchmove",m,{passive:!1}),f.addEventListener("mousemove",m,{passive:!1});const _=()=>{l.current&&x()};return document.addEventListener("touchend",_),document.addEventListener("mouseup",_),()=>{f.removeEventListener("touchmove",m),f.removeEventListener("mousemove",m),document.removeEventListener("touchend",_),document.removeEventListener("mouseup",_)}},[i,m,x]);const y=e.useCallback(()=>{t(!0)},[t]),w=e.useCallback(()=>{t(!1)},[t]);return{domActions:{onTouchStart:v,onMouseDown:v,onTouchEnd:x,onMouseUp:x,onMouseEnter:y,onMouseLeave:w},stopAnimation:g}},ve=({speed:t,side:s,slides:n,translateX:i,updatePositions:c})=>{const[r,d]=e.useState(!1);return e.useEffect(()=>{const l=()=>{d(document.visibilityState==="hidden")};return document.addEventListener(D.Visibilitychange,l),()=>{document.removeEventListener(D.Visibilitychange,l)}},[d]),e.useEffect(()=>{let l=null;const h=()=>{if(r||!t){l&&(cancelAnimationFrame(l),l=null);return}const u=s==="left"?-t:t;i.current=c(i.current,u),M(n,i.current),l=requestAnimationFrame(h)};return!r&&t&&(l=requestAnimationFrame(h)),()=>{l&&cancelAnimationFrame(l)}},[r,s,t,i,n,c]),{setCircularAnimationPaused:d}},z=t=>{const[s,n]=e.useState({left:0,right:0,width:0});return e.useEffect(()=>{const i=t.current;if(!i)return;const c=()=>{n({...U(i)})};c();const r=new ResizeObserver(c);return r.observe(i),window.addEventListener("resize",c),()=>{r.disconnect(),window.removeEventListener("resize",c)}},[t]),s},_e="_container_w4m58_1",ye="_slidesContainer_w4m58_12",V={container:_e,slidesContainer:ye},Ce=({speed:t,side:s="left",slides:n,slideWidth:i,renderSlide:c})=>{const r=e.useRef(null),d=e.useRef(null),l=e.useRef([]),h=e.useRef([]),{screenWidth:u}=W(),a=z(r),p=z(d),g=e.useMemo(()=>{const b=a.width||600;return ue(n,b,i)},[a.width,n,i]),v=g.length,x=(p.width-v*i)/(v-1),m=e.useMemo(()=>fe(l.current,a,v,x),[a,v,x]),{setCircularAnimationPaused:y}=ve({speed:t,side:s,slides:l.current,translateX:h,updatePositions:m}),{domActions:w,stopAnimation:f}=xe({setCircularAnimationPaused:y,translateX:h,slides:l.current,containerRef:r,updatePositions:m});e.useEffect(()=>{(()=>{f(),h.current=de(v),M(l.current,h.current)})()},[u,v,f,t,s]);const _=e.useCallback(b=>j=>{l.current[b]=j},[]);return o.jsx("div",{ref:r,className:V.container,...w,children:o.jsx("div",{ref:d,className:V.slidesContainer,children:g.map((b,j)=>c(b,j,_(j)))})})},Ee=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:256,height:256,...t},e.createElement("defs",null,e.createElement("style",null,`\r
      .react-stroke { stroke: currentColor; stroke-width: 16; fill: none; }\r
      .react-fill { fill: currentColor; }\r
    `)),e.createElement("circle",{cx:128,cy:128,r:20,className:"react-fill"}),e.createElement("ellipse",{className:"react-stroke",cx:128,cy:128,rx:100,ry:40}),e.createElement("g",{transform:"rotate(60 128 128)"},e.createElement("ellipse",{className:"react-stroke",cx:128,cy:128,rx:100,ry:40})),e.createElement("g",{transform:"rotate(-60 128 128)"},e.createElement("ellipse",{className:"react-stroke",cx:128,cy:128,rx:100,ry:40}))),be=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:256,height:256,...t},e.createElement("defs",null,e.createElement("style",null,`\r
      .ts-fill { fill: currentColor; }\r
      .ts-text { fill: #FFFFFF; font-family: Arial, sans-serif; font-weight: bold; font-size: 120px; }\r
    `)),e.createElement("rect",{className:"ts-fill",x:0,y:0,width:256,height:256,rx:20}),e.createElement("text",{className:"ts-text",x:128,y:180,textAnchor:"middle",dominantBaseline:"central"},"TS")),Se=t=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:256,height:256,...t},e.createElement("defs",null,e.createElement("style",null,`\r
      .node-fill { fill: currentColor; }\r
      .node-text { fill: #FFFFFF; font-family: Arial, sans-serif; font-weight: bold; font-size: 80px; }\r
    `)),e.createElement("circle",{className:"node-fill",cx:128,cy:128,r:100}),e.createElement("text",{className:"node-text",x:128,y:160,textAnchor:"middle",dominantBaseline:"central"},"node")),we="_root_r02y8_1",je="_content_r02y8_13",Re="_icon_r02y8_61",Ne="_text_r02y8_66",T={root:we,content:je,icon:Re,text:Ne},Le={reactlogo:Ee,typescript:be,nodejs:Se},G=e.forwardRef(({query:t,image:s,width:n=20,height:i=20,...c},r)=>{const d=Le[s];return d?o.jsx("div",{ref:r,className:T.root,children:o.jsxs("div",{"aria-label":t,className:k(T.content,"surface-transparent"),children:[o.jsx(d,{...c,width:n,height:i,viewBox:"0 0 256 256",className:T.icon}),o.jsx("div",{className:T.text,children:t})]})}):(console.warn(`Icon not found for: ${s}`),null)});G.displayName="SlideContent";const Ie=e.memo(G),Te="_label_1gob4_1",Fe="_input_1gob4_10",Me="_inputText_1gob4_16",Be="_inputRange_1gob4_31",F={label:Te,input:Fe,inputText:Me,inputRange:Be},ke=({label:t,id:s,valueDisplay:n,showValue:i=!0,className:c,labelClassName:r,inputClassName:d,type:l="text",...h})=>{const u=s||`input-${t.toLowerCase().replace(/\s+/g,"-")}`,a=n!==void 0?n:h.value?.toString(),p=l==="range"?F.inputRange:F.inputText;return o.jsxs("div",{className:c,children:[o.jsxs("label",{htmlFor:u,className:k(F.label,r),children:[t,i&&a&&`: ${a}`]}),o.jsx("input",{id:u,type:l,...h,className:k(F.input,p,d)})]})},Ae="_root_myb1d_1",$e="_button_myb1d_6",Oe="_panel_myb1d_13",De="_title_myb1d_45",ze="_section_myb1d_54",Ve="_label_myb1d_62",Pe="_directionGroup_myb1d_72",qe="_directionButton_myb1d_79",He="_slidesContainer_myb1d_83",We="_slide_myb1d_83",Ue="_slideIndex_myb1d_104",Ge="_input_myb1d_112",Ke="_select_myb1d_113",Ye="_applyButton_myb1d_137",E={root:Ae,button:$e,panel:Oe,title:De,section:ze,label:Ve,directionGroup:Pe,directionButton:qe,slidesContainer:He,slide:We,slideIndex:Ue,input:Ge,select:Ke,applyButton:Ye},Je=({onUpdate:t,initialSlides:s,initialSpeed:n,initialSide:i})=>{const[c,r]=e.useState(!1),[d,l]=e.useState(n),[h,u]=e.useState(i),[a,p]=e.useState(s);e.useEffect(()=>{const x=document.getElementById("js-animations");if(!x)return;const m=new IntersectionObserver(([y])=>{y.isIntersecting||r(!1)},{threshold:.01});return m.observe(x),()=>{m.unobserve(x)}},[]);const g=(x,m,y)=>{const w=[...a];w[x]={...w[x],[m]:y},p(w)},v=()=>{t({slides:a,speed:d,side:h}),r(!1)};return o.jsxs(o.Fragment,{children:[o.jsx(te,{children:o.jsx("div",{className:E.root,children:o.jsx(L,{variant:"magic",onClick:()=>r(!c),className:E.button,children:c?"✕ Close":"⚙️ Configure Slider"})})}),o.jsx(ae,{children:c&&o.jsxs(ne.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:E.panel,children:[o.jsx("h3",{className:E.title,children:"Slider Configuration"}),o.jsxs("div",{className:E.section,children:[o.jsx(ke,{label:"Speed",type:"range",min:"0.1",max:"3",step:"0.1",value:d,valueDisplay:d.toFixed(1),onChange:x=>l(Number(x.target.value))}),o.jsxs("div",{children:[o.jsx("label",{className:E.label,children:"Direction"}),o.jsxs("div",{className:E.directionGroup,children:[o.jsx(L,{variant:"toggle",isActive:h==="left",onClick:()=>u("left"),className:E.directionButton,children:"← Left"}),o.jsx(L,{variant:"toggle",isActive:h==="right",onClick:()=>u("right"),className:E.directionButton,children:"Right →"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:E.label,children:"Slide Content"}),o.jsx("div",{className:E.slidesContainer,children:a.map((x,m)=>o.jsxs("div",{className:E.slide,children:[o.jsxs("div",{className:E.slideIndex,children:["Slide ",m+1]}),o.jsx("input",{type:"text",value:x.query,onChange:y=>g(m,"query",y.target.value),placeholder:"Slide text",className:E.input}),o.jsxs("select",{value:x.image,onChange:y=>g(m,"image",y.target.value),className:E.select,children:[o.jsx("option",{value:"reactlogo",children:"React Logo"}),o.jsx("option",{value:"typescript",children:"TypeScript Logo"}),o.jsx("option",{value:"nodejs",children:"Node.js Logo"})]})]},m))})]}),o.jsx(L,{onClick:v,variant:"primary",className:E.applyButton,children:"Apply Changes"})]})]})})]})},P=[{query:"Spin it up",image:"reactlogo"},{query:"Type it safe",image:"typescript"},{query:"Run it fast",image:"nodejs"}],Qe="_root_1angn_1",Xe="_content_1angn_11",Ze="_header_1angn_20",et="_title_1angn_26",tt="_subtitle_1angn_42",nt="_sliderContainer_1angn_58",N={root:Qe,content:Xe,header:Ze,title:et,subtitle:tt,sliderContainer:nt},q={DESKTOP:244,MOBILE:200},st=6,rt=["#06B6D4","#3B82F6","#A855F7","#6366F1","#7DD3FC","#8B5CF6"],it=()=>{const{screenWidth:t}=W(),s=t>768?q.DESKTOP:q.MOBILE,n=e.useRef(null),[i,c]=e.useState(!1),r=e.useMemo(()=>Array.from({length:st},(a,p)=>p),[]),d=e.useMemo(()=>rt.map(a=>({"--slider-color":a})),[]);e.useEffect(()=>{if(!n.current)return;const a=new IntersectionObserver(([p])=>{c(p.isIntersecting)},{threshold:.1,rootMargin:"50px"});return a.observe(n.current),()=>{a.disconnect()}},[]);const[l,h]=e.useState({slides:P,speed:.6,side:"left"}),u=e.useCallback((a,p,g)=>o.jsx(Ie,{ref:g,...a},p),[]);return o.jsx("div",{ref:n,className:N.root,children:o.jsxs("div",{className:N.content,children:[o.jsxs("div",{className:N.header,children:[o.jsx("h2",{className:N.title,children:"Reusable components with JS animations"}),o.jsx("p",{className:N.subtitle,children:"Configure your own slider"})]}),o.jsx(Je,{onUpdate:h,initialSlides:P,initialSpeed:.6,initialSide:"left"}),r.map(a=>o.jsx("div",{className:N.sliderContainer,style:d[a],children:o.jsx(Ce,{slides:l.slides,speed:i?l.speed:0,side:l.side,slideWidth:s,renderSlide:u})},a))]})})};export{it as SecondScreen};
